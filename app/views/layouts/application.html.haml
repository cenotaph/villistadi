!!! 5
%html{ :lang => "en"}
  %head
    %meta{ :charset => "utf-8" }
    = display_meta_tags :site => 'Villi Stadi' 
    %meta{ :name => "viewport", :content => "width=device-width, initial-scale=1.0" }
    %link{:href => "http://fonts.googleapis.com/css?family=Open+Sans:400,300,800", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "http://fonts.googleapis.com/css?family=Raleway:300,400,700", :rel => "stylesheet", :type => "text/css"}/
    -# only load Google Maps js if necessary
    - if ['places', 'home', 'events'].include?(controller.controller_name) 
      %script{:src => "https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places", :type => "text/javascript"}


    = stylesheet_link_tag "application"
    = javascript_include_tag "vendor/modernizr"
    = csrf_meta_tag

  %body{:class => controller.controller_name, :onload => (['places', 'home', 'events'].include?(controller.controller_name) ?  'initialize()' : false), :style => @background_css.nil? ? (@background_image.nil? ? 'background-color: pink' : "background: url(#{@background_image}) no-repeat top center fixed; background-size: cover") : @background_css}
    .sticky
      %nav.top-bar{:"data-topbar" => '', :role => :navigation}= render :partial => 'layouts/top_bar'  
    %header{:class => controller.controller_name}
      #logo
        %center= link_to image_tag("/assets/logo_fi.png"), '/'
      .columns.tagline
        .text-center= t :tagline
    - unless flash.empty?
      #flash
        .row
          .small-12.columns
            - flash.each do |name, msg|
              - if msg.is_a?(String)
                = content_tag :div, msg, :id => "flash_#{name}"

    %section
    
    .row
      .small-12.columns#yield= yield

    = javascript_include_tag "application"
    :javascript
      $(document).ready(function(){
        #{yield :jquery}
      });
